# src/feature_engineering/validation.py

import pandas as pd
from src.utils.data_processing import format_statistics

def validate_transformations(original_statistics, transformed_statistics, outlier_strategies):
    validation_results = []
    for feature in original_statistics.keys():
        original = format_statistics(original_statistics[feature])
        transformed = format_statistics(transformed_statistics[feature])
        validation_results.append({
            'Feature': feature,
            'Outlier Remediation Strategy': outlier_strategies.get(feature, 'None'),
            'Original Mean': original['mean'],
            'Transformed Mean': transformed['mean'],
            'Original Std': original['std'],
            'Transformed Std': transformed['std'],
            'Original Skewness': original['skewness'],
            'Transformed Skewness': transformed['skewness'],
            'Original Kurtosis': original['kurtosis'],
            'Transformed Kurtosis': transformed['kurtosis']
        })
    return pd.DataFrame(validation_results)
