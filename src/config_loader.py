# sfc/config_loader.py

import yaml
import logging

logger = logging.getLogger(__name__)

def load_config(file_path):
    try:
        with open(file_path, 'r') as file:
            config = yaml.safe_load(file)
        logger.info(f"Configuration loaded successfully from {file_path}.")
        return config
    except Exception as e:
        logger.error(f"Failed to load configuration from {file_path}: {e}")
        raise

def get_feature_metadata(config):
    features_metadata = config.get('features', {})
    return features_metadata

def update_imputation_strategies(new_strategies, config_path):
    try:
        with open(config_path, 'r') as file:
            config = yaml.safe_load(file)
        config.update({'imputation_strategies': new_strategies})
        with open(config_path, 'w') as file:
            yaml.safe_dump(config, file)
        logger.info(f"Imputation strategies updated successfully in {config_path}.")
        return config
    except Exception as e:
        logger.error(f"Failed to update imputation strategies in {config_path}: {e}")
        raise
